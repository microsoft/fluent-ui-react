import { ComponentStyleFunctionParam, ICSSInJSStyle } from '../../../types'
import { TextVariables } from './textVariables'
import { TextProps } from '../../../../components/Text/Text'

export default {
  root: ({
    props: {
      as,
      animation,
      atMention,
      color,
      disabled,
      error,
      important,
      size,
      success,
      temporary,
      textAlign,
      timestamp,
      truncated,
      weight,
    },
    variables: v,
  }: ComponentStyleFunctionParam<TextProps, TextVariables>): ICSSInJSStyle => {
    const colors = v.colorScheme[color]
    return {
      ...(color && colors && { color: colors.foreground }),
      // animations are not working with span, unless display is set to 'inline-block'
      ...(animation && as === 'span' && { display: 'inline-block' }),
      ...(atMention === true && { color: v.atMentionOtherColor }),
      ...(atMention === 'me' && { color: v.atMentionMeColor }),
      ...(truncated && { overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }),
      ...(disabled && { color: v.disabledColor }),
      ...(error && { color: v.errorColor }),
      ...(success && { color: v.successColor }),
      ...(important && { color: v.importantColor }),
      ...(temporary && { fontStyle: 'italic' }),
      ...(textAlign && { display: 'block', textAlign }), // textAlign makes sense only for block elements
      ...(timestamp && { color: v.timestampColor }),

      ...(weight === 'light' && { fontWeight: v.fontWeightLight }),
      ...(weight === 'semilight' && { fontWeight: v.fontWeightSemilight }),
      ...(weight === 'regular' && { fontWeight: v.fontWeightRegular }),
      ...(weight === 'semibold' && { fontWeight: v.fontWeightSemibold }),
      ...(weight === 'bold' && { fontWeight: v.fontWeightBold }),

      ...(size === 'smallest' && {
        fontSize: v.fontSizeSmallest,
        lineHeight: v.fontLineHeightSmallest,
      }),
      ...(size === 'smaller' && {
        fontSize: v.fontSizeSmaller,
        lineHeight: v.fontLineHeightSmaller,
      }),
      ...(size === 'small' && {
        fontSize: v.fontSizeSmall,
        lineHeight: v.fontLineHeightSmall,
      }),
      ...(size === 'medium' && {
        fontSize: v.fontSizeMedium,
        lineHeight: v.fontLineHeightMedium,
      }),
      ...(size === 'large' && {
        fontSize: v.fontSizeLarge,
        lineHeight: v.fontLineHeightLarge,
      }),
      ...(size === 'larger' && {
        fontSize: v.fontSizeLarger,
        lineHeight: v.fontLineHeightLarger,
      }),
      ...(size === 'largest' && {
        fontSize: v.fontSizeLargest,
        lineHeight: v.fontLineHeightLargest,
      }),
    }
  },
}
